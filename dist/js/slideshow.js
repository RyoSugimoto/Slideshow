var Slideshow = (function () {
  'use strict';

  const pageGraph = '<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="-1 -1 50 50"><circle data-slideshow-page-graph-holder cx="24" cy="24" r="24" /><circle data-slideshow-page-graph cx="24" cy="24" r="24" /></svg>';

  class Slideshow {
    pages = []
    currentIndex = 0
    duration = 5000
    paginationContainer = null

    constructor(el, options) {
      this.element = this.getHtmlElement(el);
      if (!this.element) return false

      this.element.setAttribute('data-slideshow', '');

      options = {
        paginationContainer: null,
        duration: 5000,
        ...options
      };

      this.options = options;

      this.slideshowItems = this.element.querySelectorAll(':scope > *');

      this.paginationContainer = this.getHtmlElement(options.paginationContainer);

      this.currentIndex = 0;

      if (this.slideshowItems.length > 0 && this.paginationContainer) {
        this.slideshowItems.forEach((slideshowItem, index) => {
          // loop slides
          slideshowItem.setAttribute('data-slideshow-item', '');
          // create pagination
          this.createPagination(index);
        });
        // append pages
        this.pages.map(page => {
          this.paginationContainer.append(page);
        });
      }
    }

    getHtmlElement(element) {
      if (typeof element !== 'string' && !(element instanceof HTMLElement)) {
        return null
      } else if (typeof element === 'string') {
        element = document.querySelector(element);
      }
      return element
    }

    createPagination(index) {
      const page = document.createElement('span');
      page.insertAdjacentHTML('beforeend', pageGraph);
      page.insertAdjacentHTML('beforeend', index + 1);
      page.setAttribute('data-slideshow-page', '');
      page.style.setProperty('--circumference', 48 * Math.PI);
      this.pages.push(page);
    }

    start() {
      this.startTime = new Date().getTime();
      requestAnimationFrame(() => {
        this.step(this.options.duration);
      });
    }

    step() {
      const timestamp = new Date().getTime();
      const elapsed = timestamp - this.startTime;
      if (this.options.duration > elapsed) {
        this.render(elapsed);
      } else {
        this.startTime = new Date().getTime();
        this.currentIndex = (this.slideshowItems.length <= this.currentIndex + 1) ? 0 : this.currentIndex + 1;
      }
      requestAnimationFrame(() => { this.step(); });
    }

    render(elapsed) {
      this.slideshowItems.forEach((slideshowItem, index) => {
        if (index === this.currentIndex) {
          slideshowItem.classList.add('is-current');
        } else {
          slideshowItem.classList.remove('is-current');
        }
      });

      this.pages.forEach((page, index) => {
        if (index === this.currentIndex) {
          const rate = elapsed / this.options.duration * 100;
          page.classList.add('is-current');
          page.style.setProperty('--progress', Math.round(rate) / 100);
        } else {
          page.classList.remove('is-current');
          page.style.setProperty('--progress', 1);
        }
      });
    }
  }

  return Slideshow;

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xpZGVzaG93LmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvU2xpZGVzaG93LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhZ2VHcmFwaCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjQ4XCIgaGVpZ2h0PVwiNDhcIiB2aWV3Qm94PVwiLTEgLTEgNTAgNTBcIj48Y2lyY2xlIGRhdGEtc2xpZGVzaG93LXBhZ2UtZ3JhcGgtaG9sZGVyIGN4PVwiMjRcIiBjeT1cIjI0XCIgcj1cIjI0XCIgLz48Y2lyY2xlIGRhdGEtc2xpZGVzaG93LXBhZ2UtZ3JhcGggY3g9XCIyNFwiIGN5PVwiMjRcIiByPVwiMjRcIiAvPjwvc3ZnPidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVzaG93IHtcbiAgcGFnZXMgPSBbXVxuICBjdXJyZW50SW5kZXggPSAwXG4gIGR1cmF0aW9uID0gNTAwMFxuICBwYWdpbmF0aW9uQ29udGFpbmVyID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5nZXRIdG1sRWxlbWVudChlbClcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIGZhbHNlXG5cbiAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlc2hvdycsICcnKVxuXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHBhZ2luYXRpb25Db250YWluZXI6IG51bGwsXG4gICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG5cbiAgICB0aGlzLnNsaWRlc2hvd0l0ZW1zID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IConKVxuXG4gICAgdGhpcy5wYWdpbmF0aW9uQ29udGFpbmVyID0gdGhpcy5nZXRIdG1sRWxlbWVudChvcHRpb25zLnBhZ2luYXRpb25Db250YWluZXIpXG5cbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDBcblxuICAgIGlmICh0aGlzLnNsaWRlc2hvd0l0ZW1zLmxlbmd0aCA+IDAgJiYgdGhpcy5wYWdpbmF0aW9uQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLnNsaWRlc2hvd0l0ZW1zLmZvckVhY2goKHNsaWRlc2hvd0l0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIC8vIGxvb3Agc2xpZGVzXG4gICAgICAgIHNsaWRlc2hvd0l0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlc2hvdy1pdGVtJywgJycpXG4gICAgICAgIC8vIGNyZWF0ZSBwYWdpbmF0aW9uXG4gICAgICAgIHRoaXMuY3JlYXRlUGFnaW5hdGlvbihpbmRleClcbiAgICAgIH0pXG4gICAgICAvLyBhcHBlbmQgcGFnZXNcbiAgICAgIHRoaXMucGFnZXMubWFwKHBhZ2UgPT4ge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25Db250YWluZXIuYXBwZW5kKHBhZ2UpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGdldEh0bWxFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICdzdHJpbmcnICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIGNyZWF0ZVBhZ2luYXRpb24oaW5kZXgpIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgcGFnZS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHBhZ2VHcmFwaClcbiAgICBwYWdlLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaW5kZXggKyAxKVxuICAgIHBhZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlc2hvdy1wYWdlJywgJycpXG4gICAgcGFnZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jaXJjdW1mZXJlbmNlJywgNDggKiBNYXRoLlBJKVxuICAgIHRoaXMucGFnZXMucHVzaChwYWdlKVxuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLnN0ZXAodGhpcy5vcHRpb25zLmR1cmF0aW9uKVxuICAgIH0pXG4gIH1cblxuICBzdGVwKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHRoaXMuc3RhcnRUaW1lXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kdXJhdGlvbiA+IGVsYXBzZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyKGVsYXBzZWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gKHRoaXMuc2xpZGVzaG93SXRlbXMubGVuZ3RoIDw9IHRoaXMuY3VycmVudEluZGV4ICsgMSkgPyAwIDogdGhpcy5jdXJyZW50SW5kZXggKyAxXG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7IHRoaXMuc3RlcCgpIH0pXG4gIH1cblxuICByZW5kZXIoZWxhcHNlZCkge1xuICAgIHRoaXMuc2xpZGVzaG93SXRlbXMuZm9yRWFjaCgoc2xpZGVzaG93SXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgc2xpZGVzaG93SXRlbS5jbGFzc0xpc3QuYWRkKCdpcy1jdXJyZW50JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlc2hvd0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtY3VycmVudCcpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMucGFnZXMuZm9yRWFjaCgocGFnZSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgY29uc3QgcmF0ZSA9IGVsYXBzZWQgLyB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiAxMDBcbiAgICAgICAgcGFnZS5jbGFzc0xpc3QuYWRkKCdpcy1jdXJyZW50JylcbiAgICAgICAgcGFnZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wcm9ncmVzcycsIE1hdGgucm91bmQocmF0ZSkgLyAxMDApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWN1cnJlbnQnKVxuICAgICAgICBwYWdlLnN0eWxlLnNldFByb3BlcnR5KCctLXByb2dyZXNzJywgMSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0VBQUEsTUFBTSxTQUFTLEdBQUcsMk5BQTBOO0FBQzVPO0VBQ2UsTUFBTSxTQUFTLENBQUM7RUFDL0IsRUFBRSxLQUFLLEdBQUcsRUFBRTtFQUNaLEVBQUUsWUFBWSxHQUFHLENBQUM7RUFDbEIsRUFBRSxRQUFRLEdBQUcsSUFBSTtFQUNqQixFQUFFLG1CQUFtQixHQUFHLElBQUk7QUFDNUI7RUFDQSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFO0VBQzNCLElBQUksSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBQztFQUMxQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sS0FBSztBQUNuQztFQUNBLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxFQUFDO0FBQ25EO0VBQ0Es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
